openapi: 3.0.3
info:
  title: Nomod API Documentation (latest)
  version: 1.0.0
  description: Nomod API OpenApi Specification
paths:
  /v1/countries:
    get:
      operationId: Fetch countries
      description: Fetch all countries sorted by name.
      parameters:
      - in: query
        name: code
        schema:
          type: string
        description: country code
      - in: query
        name: uuid
        schema:
          type: string
          format: uuid
        description: UUID of country
      tags:
      - v1
      security:
      - apiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CountryMiniApi'
          description: ''
        '401':
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    nullable: false
                    description: Text of the error message.
                    example: Authentication credentials were not provided.
                  code:
                    type: object
                    nullable: false
                    description: Specific error code identifying the error.
                    example: not_authenticated
          description: ''
        '429':
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    nullable: false
                    description: Text of the error message.
                    example: Request was throttled. Expected available in 1 second.
                  code:
                    type: object
                    nullable: false
                    description: Specific error code identifying the error.
                    example: throttled
          description: ''
  /v1/countries/{uuid}/provinces:
    get:
      operationId: Fetch provinces
      description: Fetch all countries provinces
      parameters:
      - in: path
        name: uuid
        schema:
          type: string
          format: uuid
        required: true
      tags:
      - v1
      security:
      - apiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Province'
          description: ''
        '401':
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    nullable: false
                    description: Text of the error message.
                    example: Authentication credentials were not provided.
                  code:
                    type: object
                    nullable: false
                    description: Specific error code identifying the error.
                    example: not_authenticated
          description: ''
        '429':
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    nullable: false
                    description: Text of the error message.
                    example: Request was throttled. Expected available in 1 second.
                  code:
                    type: object
                    nullable: false
                    description: Specific error code identifying the error.
                    example: throttled
          description: ''
  /v1/currencies:
    get:
      operationId: List Currency
      description: Fetch all active currencies sorted by popularity and name.
      tags:
      - v1
      security:
      - apiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CurrenciesApi'
          description: ''
        '401':
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    nullable: false
                    description: Text of the error message.
                    example: Authentication credentials were not provided.
                  code:
                    type: object
                    nullable: false
                    description: Specific error code identifying the error.
                    example: not_authenticated
          description: ''
        '429':
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    nullable: false
                    description: Text of the error message.
                    example: Request was throttled. Expected available in 1 second.
                  code:
                    type: object
                    nullable: false
                    description: Specific error code identifying the error.
                    example: throttled
          description: ''
  /v1/customer:
    get:
      operationId: Fetch Contact
      description: Retrieve a list of all contacts in the system.
      summary: List all contacts
      parameters:
      - in: query
        name: page
        schema:
          type: integer
        description: Page number
      - in: query
        name: page_size
        schema:
          type: integer
        description: Number of results per page
      tags:
      - v1
      security:
      - apiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/PaginatedContacts'
          description: Paginated list of contacts with metadata
        '401':
          description: Unauthorized access
        '429':
          description: Too many requests
    post:
      operationId: Create Contact
      description: Create a new contact with the given details.
      summary: Create a new contact
      tags:
      - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateCustomerRequest'
        required: true
      security:
      - apiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ContactApi'
          description: ''
        '401':
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    nullable: false
                    description: Text of the error message.
                    example: Authentication credentials were not provided.
                  code:
                    type: object
                    nullable: false
                    description: Specific error code identifying the error.
                    example: not_authenticated
          description: ''
        '429':
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    nullable: false
                    description: Text of the error message.
                    example: Request was throttled. Expected available in 1 second.
                  code:
                    type: object
                    nullable: false
                    description: Specific error code identifying the error.
                    example: throttled
          description: ''
  /v1/customer/{uuid}:
    get:
      operationId: Get Contact
      description: Retrieve a specific contact by ID.
      summary: Retrieve a contact
      parameters:
      - in: path
        name: uuid
        schema:
          type: string
          format: uuid
        required: true
      tags:
      - v1
      security:
      - apiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ContactApi'
          description: ''
        '401':
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    nullable: false
                    description: Text of the error message.
                    example: Authentication credentials were not provided.
                  code:
                    type: object
                    nullable: false
                    description: Specific error code identifying the error.
                    example: not_authenticated
          description: ''
        '429':
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    nullable: false
                    description: Text of the error message.
                    example: Request was throttled. Expected available in 1 second.
                  code:
                    type: object
                    nullable: false
                    description: Specific error code identifying the error.
                    example: throttled
          description: ''
  /v1/link:
    post:
      operationId: Generate Link
      description: Generate link.
      tags:
      - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateLinkRequest'
        required: true
      security:
      - apiKeyAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreateLinkRequest'
          description: ''
        '400':
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    nullable: false
                    description: Text of the error message.
                  code:
                    type: object
                    nullable: true
                    description: Specific error code identifying the error.
          description: ''
  /v1/link/{uuid}:
    get:
      operationId: Retrieve Link
      description: Retrieve link details by UUID.
      parameters:
      - in: path
        name: uuid
        schema:
          type: string
          format: uuid
        required: true
      tags:
      - v1
      security:
      - apiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreateLinkRequest'
          description: ''
        '404':
          content:
            application/json:
              schema:
                description: Link not found
          description: ''
  /v1/wcommerce/authenticate:
    get:
      operationId: Woocommerce Authenticate
      description: test out the api key and get business information.
      tags:
      - v1
      security:
      - apiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BusinessApi'
          description: ''
        '401':
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    nullable: false
                    description: Text of the error message.
                    example: Authentication credentials were not provided.
                  code:
                    type: object
                    nullable: false
                    description: Specific error code identifying the error.
                    example: not_authenticated
          description: ''
        '429':
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    nullable: false
                    description: Text of the error message.
                    example: Request was throttled. Expected available in 1 second.
                  code:
                    type: object
                    nullable: false
                    description: Specific error code identifying the error.
                    example: throttled
          description: ''
  /v1/zapier/authenticate:
    get:
      operationId: Zapier Authenticate
      description: test out the api key and get business information.
      tags:
      - v1
      security:
      - apiKeyAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BusinessApi'
          description: ''
        '401':
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    nullable: false
                    description: Text of the error message.
                    example: Authentication credentials were not provided.
                  code:
                    type: object
                    nullable: false
                    description: Specific error code identifying the error.
                    example: not_authenticated
          description: ''
        '429':
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    nullable: false
                    description: Text of the error message.
                    example: Request was throttled. Expected available in 1 second.
                  code:
                    type: object
                    nullable: false
                    description: Specific error code identifying the error.
                    example: throttled
          description: ''
components:
  schemas:
    BusinessApi:
      type: object
      properties:
        uuid:
          type: string
          format: uuid
          readOnly: true
        name:
          type: string
          readOnly: true
        status:
          allOf:
          - $ref: '#/components/schemas/StatusEnum'
          readOnly: true
        image:
          type: string
          format: uri
          readOnly: true
          title: Business image
      required:
      - image
      - name
      - status
      - uuid
    Contact:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        created:
          type: string
          format: date-time
          readOnly: true
        first_name:
          type: string
          maxLength: 150
        last_name:
          type: string
          maxLength: 150
        business_name:
          type: string
          maxLength: 200
        job_title:
          type: string
          maxLength: 200
        province:
          type: integer
          nullable: true
        city:
          type: string
          maxLength: 150
          minLength: 2
        street:
          type: string
          title: Street address
          maxLength: 150
          minLength: 2
        zip_code:
          type: string
          maxLength: 16
        country:
          type: string
          title: Country code
        email:
          type: string
          format: email
          title: Email address
          maxLength: 254
        phone_number:
          type: string
          pattern: ^(?=.{3,16}$)[+]{0,1}[0-9() -]+$
          maxLength: 20
        image:
          type: string
          format: uri
          readOnly: true
          title: Contact image
        transaction_number:
          type: integer
          readOnly: true
          default: 0
      required:
      - created
      - id
      - image
      - transaction_number
    ContactApi:
      type: object
      properties:
        uuid:
          type: string
          format: uuid
          readOnly: true
        created:
          type: string
          format: date-time
          readOnly: true
        first_name:
          type: string
          readOnly: true
        last_name:
          type: string
          readOnly: true
        business_name:
          type: string
          readOnly: true
        job_title:
          type: string
          readOnly: true
        province:
          type: integer
          readOnly: true
        city:
          type: string
          readOnly: true
        street:
          type: string
          readOnly: true
          title: Street address
        zip_code:
          type: string
          readOnly: true
        country:
          type: string
          title: Country code
        email:
          type: string
          format: email
          readOnly: true
          title: Email address
        phone_number:
          type: string
          readOnly: true
        image:
          type: string
          format: uri
          readOnly: true
          title: Contact image
      required:
      - business_name
      - city
      - created
      - email
      - first_name
      - image
      - job_title
      - last_name
      - phone_number
      - province
      - street
      - uuid
      - zip_code
    CountryMiniApi:
      type: object
      properties:
        uuid:
          type: string
          format: uuid
          readOnly: true
        code:
          type: string
          readOnly: true
          title: Country code
        name:
          type: string
          readOnly: true
      required:
      - code
      - name
      - uuid
    CreateCustomerRequest:
      type: object
      properties:
        first_name:
          type: string
          description: First name
          maxLength: 50
          minLength: 3
        last_name:
          type: string
          description: Last name
          maxLength: 50
          minLength: 3
        email:
          type: string
          format: email
          description: Email address.
        phone_number:
          type: string
          description: Phone
          maxLength: 15
        business_name:
          type: string
          description: Business name.
          maxLength: 50
        job_title:
          type: string
          description: Job Title
          maxLength: 50
        country:
          type: string
          description: Country code.
          maxLength: 2
        province:
          type: integer
          description: Province ID.
        street:
          type: string
          description: Street address
          maxLength: 100
        city:
          type: string
          description: City name.
          maxLength: 100
        zip_code:
          type: string
          description: Zip/Postal code.
          maxLength: 16
      required:
      - first_name
      - last_name
    CreateLinkRequest:
      type: object
      properties:
        currency:
          type: string
          description: Currency code. Get the currency code form /currencies api
          maxLength: 3
        items:
          type: array
          items:
            $ref: '#/components/schemas/LinkItem'
          description: List of items with name and amount.
        title:
          type: string
          description: Craft a beautiful name for your link
          maxLength: 50
        note:
          type: string
          nullable: true
          description: Type out a quick note describing what you're selling
          maxLength: 280
        discount_percentage:
          allOf:
          - $ref: '#/components/schemas/DiscountPercentageEnum'
          default: 0
          description: |-
            Discount percentage

            * `0` - 0%
            * `5` - 5%
            * `10` - 10%
            * `15` - 15%
            * `20` - 20%
        shipping_address_required:
          type: boolean
          default: false
          description: Whether shipping address is required.
        allow_tip:
          type: boolean
          default: false
          description: Allow tips.
        customFields:
          type: array
          items:
            $ref: '#/components/schemas/LinkCustomField'
          nullable: true
          description: 'Custom fields to add. Note: max you can add 5'
      required:
      - currency
      - items
      - title
    CurrenciesApi:
      type: object
      properties:
        uuid:
          type: string
          format: uuid
          description: Unique Identifier of the Currency.
        name:
          type: string
          description: Name of the Currency
        code:
          type: string
          description: Currency code
        decimal_places:
          type: integer
          description: Number of decimal places for the currency.
        denominations:
          type: array
          items:
            type: string
          description: List of available denominations based on the currency code
          readOnly: true
      required:
      - code
      - decimal_places
      - denominations
      - name
      - uuid
    DiscountPercentageEnum:
      enum:
      - 0
      - 5
      - 10
      - 15
      - 20
      type: integer
      description: |-
        * `0` - 0%
        * `5` - 5%
        * `10` - 10%
        * `15` - 15%
        * `20` - 20%
    LinkCustomField:
      type: object
      properties:
        name:
          type: string
        is_required:
          type: boolean
          default: false
      required:
      - name
    LinkItem:
      type: object
      properties:
        name:
          type: string
          description: Item Name
          maxLength: 50
        amount:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
      required:
      - amount
      - name
    PaginatedContacts:
      type: object
      properties:
        count:
          type: integer
        next:
          type: string
          format: uri
          nullable: true
        previous:
          type: string
          format: uri
          nullable: true
        results:
          type: array
          items:
            $ref: '#/components/schemas/Contact'
      required:
      - count
      - next
      - previous
      - results
    Province:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
          readOnly: true
      required:
      - id
      - name
    StatusEnum:
      enum:
      - limited
      - enabled
      - review
      - disabled
      type: string
      description: |-
        * `limited` - Limited
        * `enabled` - Enabled
        * `review` - Review
        * `disabled` - Disabled
  securitySchemes:
    apiKeyAuth:
      type: apiKey
      in: header
      name: X-API-KEY
      description: Your API key. This is required by all endpoints to access our API
        programatically.                             You can view your API Key by
        navigating to the app settings
